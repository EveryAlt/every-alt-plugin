/*! For license information please see every-alt-admin.js.LICENSE.txt */
(()=>{"use strict";var e,t={839:(e,t,r)=>{var n=r(893);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},l(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y(e);if(t){var o=y(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return c(e)}(this,r)}}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}var f=wp.i18n.__,p=wp.components,d=p.BaseControl,v=p.Button,h=p.ExternalLink,_=(p.PanelBody,p.PanelRow,p.Placeholder),b=p.Spinner,m=p.ToggleControl,g=p.Notice,w=(p.Snackbar,p.SnackbarList),x=p.Card,j=p.CardHeader,S=p.CardBody,k=(p.CardFooter,wp.element),O=(k.render,k.Component),P=k.Fragment,E=wp.data,A=(E.useDispatch,E.dispatch),C=E.withSelect,I=E.withDispatch,R=wp.compose.compose,N=(wp.notices.store,R(C((function(e){return{notices:e("core/notices").getNotices()}})),I((function(e){return{removeNotice:e("core/notices").removeNotice}})))((function(e){var t=e.notices,r=e.removeNotice,a=t?t.filter((function(e){return"snackbar"===e.type})):[];return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(w,{className:"every-alt-notices",notices:a,onRemove:r})})}))),$=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(y,e);var t,r,a,o=u(y);function y(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,y),(t=o.apply(this,arguments)).changeOptions=t.changeOptions.bind(c(t)),t.state={isAPILoaded:!1,isAPISaving:!1,every_alt_auto:!1,every_alt_fulltext:!1,every_alt_secret:"",every_alt_httpuser:"",every_alt_httpassword:"",every_alt_tokens:"",every_alt_used_tokens:"",every_alt_progress:"",every_alt_error:"",snackbar_message:""},t}return t=y,(r=[{key:"componentDidMount",value:function(){var e=this;wp.api.loadPromise.then((function(){e.settings=new wp.api.models.Settings,!1===e.state.isAPILoaded&&e.settings.fetch().then((function(t){console.log(t),e.setState({every_alt_secret:t.every_alt_secret,every_alt_auto:t.every_alt_auto,every_alt_fulltext:t.every_alt_fulltext,every_alt_httpuser:t.every_alt_httpuser,every_alt_httpassword:t.every_alt_httpassword}),wp.apiRequest({path:"every-alt-api/v1/get_tokens"}).then((function(t){e.setState({every_alt_tokens:t.tokens,every_alt_used_tokens:t.used_tokens,every_alt_error:t.error,isAPILoaded:!0})}))}))}))}},{key:"changeOptionsHttp",value:function(e,t){var r,n=this;this.setState({isAPISaving:!0}),new wp.api.models.Settings((s(r={},e[0],t[0]),s(r,e[1],t[1]),r)).save().then((function(t){e.forEach((function(r,a){n.setState(s({},r,t[r])),a===e.length-1&&(n.setState({isAPISaving:!1}),A("core/notices").createNotice("success",f("Settings Saved","every-alt"),{type:"snackbar",isDismissible:!0,spokenMessage:f("Every Alt","every-alt")}))}))}))}},{key:"changeOptions",value:function(e,t){var r=this;this.setState({isAPISaving:!0}),new wp.api.models.Settings(s({},e,t)).save().then((function(t){var n;r.setState((s(n={},e,t[e]),s(n,"isAPISaving",!1),n)),wp.apiRequest({path:"every-alt-api/v1/get_tokens"}).then((function(e){r.setState({every_alt_tokens:e.tokens,every_alt_used_tokens:e.used_tokens,every_alt_error:e.error,every_alt_auto:0!=e.auto,isAPISaving:!1}),A("core/notices").createNotice("success",f("Settings Saved","every-alt"),{type:"snackbar",isDismissible:!0,spokenMessage:f("Every Alt","every-alt")})}))}))}},{key:"calculateProgress",value:function(){var e=100*this.state.every_alt_used_tokens/this.state.every_alt_tokens;return parseFloat(e).toFixed(2)}},{key:"render",value:function(){var e=this;return this.state.isAPILoaded?(0,n.jsxs)(P,{children:[(0,n.jsx)(N,{}),(0,n.jsxs)("div",{className:"every-alt-main",children:[(0,n.jsx)(x,{children:(0,n.jsx)(S,{children:(0,n.jsxs)("div",{className:"every-alt-info",children:[(0,n.jsx)("h2",{children:f("Welcome to EveryAlt!","every-alt")}),(0,n.jsx)("p",{children:f("Every image deserves accurate, descriptive alternative text. EveryAlt harnesses the power of multiple artificial intelligence models to recognize every image you upload and instantly create simple, clear descriptive text. That means it's easier than ever to make sure your site is accessible, search-engine optimized, and easily understandable for visitors who use screen readers and other assistive technology to browse the web.","every-alt")}),(0,n.jsx)("p",{children:f("If you haven't yet, create your EveryAlt account and generate some alternative text with the free credits you receive when you sign up. If EveryAlt knocks your socks off, you can purchase thousands of image credits for just a few bucks, and you can share those credits across unlimited WordPress sites.","every-alt")}),(0,n.jsx)("div",{className:"every-alt-info-button-group",children:(0,n.jsx)(v,{isSecondary:!0,target:"_blank",href:"https://everyalt.com/",children:f("Log In or Create Your Free EveryAlt Account","every-alt")})})]})})}),(0,n.jsxs)(x,{children:[(0,n.jsx)(j,{children:f("Settings","every-alt")}),(0,n.jsxs)(S,{children:[(0,n.jsxs)(d,{label:f("My API Key","every-alt"),help:f("In order to use EveryAlt, you need an API key. When you create your free EveryAlt account, you'll receive a key that includes free image credits to get you started.","every-alt"),id:"'every-alt-options-api-key",className:"every-alt-text-field",children:[(0,n.jsx)("input",{type:"text",id:"every-alt-options-api-key",value:this.state.every_alt_secret,placeholder:f("My API Key","every-alt"),disabled:this.state.isAPISaving,onChange:function(t){return e.setState({every_alt_secret:t.target.value})}}),(0,n.jsxs)("div",{className:"every-alt-text-field-button-group",children:[(0,n.jsx)(v,{isPrimary:!0,disabled:this.state.isAPISaving,onClick:function(){return e.changeOptions("every_alt_secret",e.state.every_alt_secret)},children:f("Save Key","every-alt")}),(0,n.jsx)(h,{href:"https://everyalt.com",children:f("Get a Free API Key","every-alt")})]})]}),this.state.every_alt_secret&&!this.state.every_alt_error?(0,n.jsxs)("div",{className:"every_alt_http_password_holder",children:[(0,n.jsx)("h2",{children:f("Basic Authentication","every-alt")}),(0,n.jsx)("p",{children:f("EveryAlt needs to be able to access your images via the public internet. If your site is protected by basic authentication, enter the username and password below. This is common for staging and development sites.","every-alt")}),(0,n.jsx)(d,{label:f("Username","every-alt"),id:"every-alt-options-http-username",className:"every-alt-text-field",children:(0,n.jsx)("input",{type:"text",id:"every-alt-options-http-username",value:this.state.every_alt_httpuser,placeholder:f("HTTP Basic Auth Username","every-alt"),disabled:this.state.isAPISaving,onChange:function(t){return e.setState({every_alt_httpuser:t.target.value})}})}),(0,n.jsx)(d,{label:f("Password","every-alt"),id:"every-alt-options-http-password",className:"every-alt-text-field",children:(0,n.jsx)("input",{type:"password",id:"every-alt-options-http-password",value:this.state.every_alt_httpassword,placeholder:f("HTTP Basic Auth Password","every-alt"),disabled:this.state.isAPISaving,onChange:function(t){return e.setState({every_alt_httpassword:t.target.value})}})}),(0,n.jsx)("div",{className:"every-alt-text-field-button-group",children:(0,n.jsx)(v,{isPrimary:!0,disabled:this.state.isAPISaving,onClick:function(){return e.changeOptionsHttp(["every_alt_httpuser","every_alt_httpassword"],[e.state.every_alt_httpuser,e.state.every_alt_httpassword])},children:f("Save Credentials","every-alt")})})]}):null,this.state.every_alt_error?(0,n.jsx)(g,{status:"error",isDismissible:!1,children:this.state.every_alt_error}):null,this.state.every_alt_secret&&!this.state.every_alt_error?(0,n.jsx)(m,{label:f("Automatically Add Alt Text to New Images?","every-alt"),help:f("EveryAlt will automatically create alt text for every image you upload to your WordPress Site. You can always manually change the alt text later.","every-alt"),checked:this.state.every_alt_auto,onChange:function(){return e.changeOptions("every_alt_auto",!e.state.every_alt_auto)}}):null,this.state.every_alt_secret&&!this.state.every_alt_error?(0,n.jsx)(m,{label:f("Append Full Text?","every-alt"),help:f("If we detect text in your image, we will append the full text of the image as part of your alternative text. This is great if you upload a lot of screenshots or images of text that you would normally transcribe manually. You can always modify your alt text after it's generated.","every-alt"),checked:this.state.every_alt_fulltext,onChange:function(){return e.changeOptions("every_alt_fulltext",!e.state.every_alt_fulltext)}}):null,this.state.every_alt_tokens&&this.state.every_alt_secret?(0,n.jsxs)("div",{className:"every-alt-progress-bar",children:[(0,n.jsx)("div",{className:"every-bar-wrapper",children:(0,n.jsx)("div",{className:"every-bar-bar",style:{width:this.calculateProgress()+"%"}})}),(0,n.jsxs)("p",{children:[(0,n.jsxs)("strong",{children:[this.calculateProgress(),"%"]})," - ",f("You have used","every-alt")," ",this.state.every_alt_used_tokens," ",f("of your","every-alt")," ",this.state.every_alt_tokens," ",f("image credits","every-alt")," ",(0,n.jsx)(h,{href:"https://everyalt.com",children:f("Get More Image Credits","every-alt")})]})]}):null]})]}),(0,n.jsx)(x,{children:(0,n.jsx)(S,{children:(0,n.jsxs)("div",{className:"every-alt-info",children:[(0,n.jsx)("h2",{children:f("Questions or Issues?","every-alt")}),(0,n.jsx)("p",{children:f("We're for you! While our image-recognition technology is the best in the business, it's still not perfect. We'd love to hear your feedback so we can continuously improve and help everyone build accessible, screen-reader-friendly WordPress sites.","every-alt")}),(0,n.jsx)("div",{className:"every-alt-info-button-group",children:(0,n.jsx)(v,{isSecondary:!0,target:"_blank",href:"https://everyalt.com/",children:f("Ask a question","every-alt")})}),(0,n.jsxs)("p",{style:{marginTop:"1rem"},children:[f("EveryAlt is a product of ","every-alt")," ",(0,n.jsx)(h,{href:"https://everyalt.com",children:f("HDC","every-alt")})," ",f("the digital agency behind MasterWP and Understrap. We build high-end WordPress sites for enterprise and small-business clients, and we build software to lead the industry to a better future.","every-alt")]})]})})})]})]}):(0,n.jsx)(_,{children:(0,n.jsx)(b,{})})}}])&&i(t.prototype,r),a&&i(t,a),Object.defineProperty(t,"prototype",{writable:!1}),y}(O),T=document.getElementById("every-alt-plugin");ReactDOM.render((0,n.jsx)($,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},T.dataset)),T)},70:()=>{},251:(e,t,r)=>{var n=r(294),a=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,r){var n,o={},u=null,c=null;for(n in void 0!==r&&(u=""+r),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)s.call(t,n)&&!l.hasOwnProperty(n)&&(o[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===o[n]&&(o[n]=t[n]);return{$$typeof:a,type:e,key:u,ref:c,props:o,_owner:i.current}}t.Fragment=o,t.jsx=u,t.jsxs=u},408:(e,t)=>{var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;var d={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,h={};function _(e,t,r){this.props=e,this.context=t,this.refs=h,this.updater=r||d}function b(){}function m(e,t,r){this.props=e,this.context=t,this.refs=h,this.updater=r||d}_.prototype.isReactComponent={},_.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},_.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=_.prototype;var g=m.prototype=new b;g.constructor=m,v(g,_.prototype),g.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,j={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,n){var a,o={},s=null,i=null;if(null!=t)for(a in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(s=""+t.key),t)x.call(t,a)&&!S.hasOwnProperty(a)&&(o[a]=t[a]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===o[a]&&(o[a]=l[a]);return{$$typeof:r,type:e,key:s,ref:i,props:o,_owner:j.current}}function O(e){return"object"==typeof e&&null!==e&&e.$$typeof===r}var P=/\/+/g;function E(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,a,o,s){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var l=!1;if(null===e)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case r:case n:l=!0}}if(l)return s=s(l=e),e=""===o?"."+E(l,0):o,w(s)?(a="",null!=e&&(a=e.replace(P,"$&/")+"/"),A(s,t,a,"",(function(e){return e}))):null!=s&&(O(s)&&(s=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,a+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(P,"$&/")+"/")+e)),t.push(s)),1;if(l=0,o=""===o?".":o+":",w(e))for(var u=0;u<e.length;u++){var c=o+E(i=e[u],u);l+=A(i,t,a,c,s)}else if(c=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"==typeof c)for(e=c.call(e),u=0;!(i=e.next()).done;)l+=A(i=i.value,t,a,c=o+E(i,u++),s);else if("object"===i)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function C(e,t,r){if(null==e)return e;var n=[],a=0;return A(e,n,"","",(function(e){return t.call(r,e,a++)})),n}function I(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},N={transition:null},$={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:N,ReactCurrentOwner:j};t.Children={map:C,forEach:function(e,t,r){C(e,(function(){t.apply(this,arguments)}),r)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!O(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=_,t.Fragment=a,t.Profiler=s,t.PureComponent=m,t.StrictMode=o,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$,t.cloneElement=function(e,t,n){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=v({},e.props),o=e.key,s=e.ref,i=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,i=j.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)x.call(t,u)&&!S.hasOwnProperty(u)&&(a[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)a.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];a.children=l}return{$$typeof:r,type:e.type,key:o,ref:s,props:a,_owner:i}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=O,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:I}},t.memo=function(e,t){return{$$typeof:y,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=N.transition;N.transition={};try{e()}finally{N.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,r){return R.current.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,r){return R.current.useReducer(e,t,r)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,r){return R.current.useSyncExternalStore(e,t,r)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},294:(e,t,r)=>{e.exports=r(408)},893:(e,t,r)=>{e.exports=r(251)}},r={};function n(e){var a=r[e];if(void 0!==a)return a.exports;var o=r[e]={exports:{}};return t[e](o,o.exports,n),o.exports}n.m=t,e=[],n.O=(t,r,a,o)=>{if(!r){var s=1/0;for(c=0;c<e.length;c++){for(var[r,a,o]=e[c],i=!0,l=0;l<r.length;l++)(!1&o||s>=o)&&Object.keys(n.O).every((e=>n.O[e](r[l])))?r.splice(l--,1):(i=!1,o<s&&(s=o));if(i){e.splice(c--,1);var u=a();void 0!==u&&(t=u)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[r,a,o]},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={17:0,355:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var a,o,[s,i,l]=r,u=0;if(s.some((t=>0!==e[t]))){for(a in i)n.o(i,a)&&(n.m[a]=i[a]);if(l)var c=l(n)}for(t&&t(r);u<s.length;u++)o=s[u],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(c)},r=self.webpackChunkevery_alt=self.webpackChunkevery_alt||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),n.O(void 0,[355],(()=>n(839)));var a=n.O(void 0,[355],(()=>n(70)));a=n.O(a)})();